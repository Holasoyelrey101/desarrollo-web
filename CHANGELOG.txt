CHANGELOG (Angular)
=====================
All notable changes to the Angular frontend of this repository are documented in this file.
Format loosely follows Keep a Changelog and SemVer.

## [1.0.0] - 2025-09-29
### Added
- **HTTP client & configuration**
  - Enabled `provideHttpClient()` in `src/app/app.config.ts`.
  - Configured `{}`HashLocationStrategy via `{}`LocationStrategy in `app.config.ts` to use hash-based routing.
  - Imported `zone.js` in `src/main.ts` (required when not using zoneless).

- **Service layer**
  - New service `src/app/services/imagen.service.ts` with:
    - Interface `Imagen`.
    - `getImagenes()` and `uploadImagen()` methods for the Laravel API (`http://homestead.test/api/v1`).
    - URL normalization to absolute URLs (prefixes `/storage/...` with `http://homestead.test`).

- **Routing**
  - Lazy route for admin: add in `src/app/app.routes.ts`  
    `{ path: 'admin', loadChildren: () => import('./admin/admin.routes').then(m => m.adminRoutes) }`.
  - (Pre-existing/public) lazy route for imágenes:  
    `{ path: 'imagenes', loadComponent: () => import('./app/imagenes/imagenes').then(c => c.ImagenesComponent) }`.

- **Admin area (standalone)**
  - `src/app/admin/admin.routes.ts`: child routes  
    - `''` → `AdminComponent` (shell)  
    - `'imagenes'` → `AdminListaImagenesComponent`  
    - `'imagenes/crear'` → `AdminCrearImagenComponent`
  - `src/app/admin/admin.ts` & `admin.html`: shell with `<router-outlet>`.
  - `src/app/admin/dashboard/` (opcional): quick links to admin features.
  - `src/app/admin/admin-lista-imagenes/`:
    - Lists imágenes with **miniaturas**, título, and **Editar/Eliminar** buttons.
    - Uses `trackBy` for performance and `(error)` fallback for broken thumbnails.
    - Pulls data from `ImagenService` (observables).
  - `src/app/admin/admin-crear-imagen/`:
    - Template-driven **form validations** (2 por campo: p.ej. `required` + `minlength`/`min`).
    - Validación de tipo de archivo (solo imágenes).
    - Botón **Crear** deshabilitado cuando el formulario es inválido o falta archivo.
    - En éxito: **console.log("La imagen ha sido agregada correctamente")** y **navigate** a `/admin/imagenes`.

### Changed
- `admin-lista-imagenes.html`:
  - Añadidos estados de **cargando** y **lista vacía**.
  - Uso de `img.miniatura || img.ruta` y fallback visual si falla la carga de imagen.
- `app.routes.ts`:
  - Incorporado el lazy-loading del panel de administración.
- `app.config.ts`:
  - Simplificado para evitar conflictos de plataforma: **sin** `provideZonelessChangeDetection()` y **sin** `provideClientHydration(...)` (ver “Fixed”).

### Fixed
- **NG0400: A platform with a different configuration has been created**  
  Resuelto unificando configuración del cliente (se retiró zoneless/hydration para este proyecto).
- **NG0908: Angular requires Zone.js**  
  Resuelto importando `zone.js` en `src/main.ts` cuando no se usa zoneless.

### Developer Experience (optional)
- Se sugiere `proxy.conf.json` para evitar CORS en dev:
  ```json
  {
    "/api": {
      "target": "http://homestead.test",
      "secure": false,
      "changeOrigin": true
    }
  }
  ```
  Y lanzar con: `ng serve --proxy-config proxy.conf.json`.  
  (Si se usa proxy, el `ImagenService` puede apuntar a `'/api/v1'` en vez de `http://homestead.test/api/v1`.)

### Notes
- Este changelog documenta **solo** cambios del **frontend Angular**. El backend (Laravel) tuvo ajustes en `ImagenesController@store`, pero no forman parte de este archivo.

---
